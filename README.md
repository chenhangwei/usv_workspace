# USV Swarm Control System (USV Workspace)

è¿™æ˜¯ä¸€ä¸ªåŸºäº ROS2 çš„æ— äººæ°´é¢è‰‡ (USV) é›†ç¾¤æ§åˆ¶ç³»ç»Ÿã€‚è¯¥é¡¹ç›®æ—¨åœ¨å®ç°å¤šè‰‡ååŒä½œä¸šï¼Œæ¶æ„ä¸Šåˆ†ä¸ºåœ°é¢ç«™ (Ground Station) å’Œæ— äººè‰‡ (USV) ä¸¤å¤§æ ¸å¿ƒéƒ¨åˆ†ï¼Œæ”¯æŒé€šè¿‡ MAVROS ä¸ Pixhawk é£æ§è¿›è¡Œé€šä¿¡ã€‚

## ğŸ“š ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒæ¶æ„](#æ ¸å¿ƒæ¶æ„)
- [å®‰è£…ä¸æ„å»º](#å®‰è£…ä¸æ„å»º)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [ç³»ç»Ÿæ¨¡å—](#ç³»ç»Ÿæ¨¡å—)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [ğŸ“Š é¡¹ç›®åˆ†ææ–‡æ¡£](#é¡¹ç›®åˆ†ææ–‡æ¡£)

## ğŸ“Š é¡¹ç›®åˆ†ææ–‡æ¡£

æœ¬é¡¹ç›®åŒ…å«å®Œæ•´çš„ä»£ç åˆ†æå’Œæ¶æ„æ–‡æ¡£ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿç†è§£ç³»ç»Ÿï¼š

- **[åˆ†ææ€»ç»“.md](./åˆ†ææ€»ç»“.md)** â­ æ¨èé¦–è¯»
  - é¡¹ç›®è§„æ¨¡ç»Ÿè®¡ (~29,000è¡Œä»£ç )
  - ç»¼åˆè¯„åˆ† (4.2/5.0)
  - æ ¸å¿ƒä¼˜åŠ¿ä¸æ”¹è¿›æ–¹å‘
  - å®æ–½è·¯çº¿å›¾
  
- **[PROJECT_ANALYSIS.md](./PROJECT_ANALYSIS.md)** - è¯¦ç»†åˆ†ææŠ¥å‘Š
  - ç³»ç»Ÿæ¶æ„æ·±åº¦å‰–æ
  - 13ä¸ªæ¨¡å—è¯¦ç»†åˆ†æ
  - ä»£ç è´¨é‡å¤šç»´åº¦è¯„ä¼°
  - æ€§èƒ½ä¸å®‰å…¨æ€§åˆ†æ
  
- **[ARCHITECTURE_DIAGRAM.md](./ARCHITECTURE_DIAGRAM.md)** - æ¶æ„å›¾è§£
  - ç³»ç»Ÿæ¶æ„å›¾
  - æ•°æ®æµå›¾
  - ç±»å›¾å’Œåºåˆ—å›¾
  - çŠ¶æ€æœºå›¾
  
- **[IMPROVEMENT_RECOMMENDATIONS.md](./IMPROVEMENT_RECOMMENDATIONS.md)** - æ”¹è¿›å»ºè®®
  - 15é¡¹å…·ä½“æ”¹è¿›æ–¹æ¡ˆ
  - ç¤ºä¾‹ä»£ç 
  - ä¼˜å…ˆçº§çŸ©é˜µ
  - å®æ–½è®¡åˆ’
  
- **[ANALYSIS_INDEX.md](./ANALYSIS_INDEX.md)** - æ–‡æ¡£å¯¼èˆª
  - å¿«é€Ÿç´¢å¼•
  - ä¸åŒè§’è‰²é˜…è¯»æŒ‡å—
  - æ–‡æ¡£å…³ç³»åœ°å›¾

> ğŸ’¡ **æç¤º**: æ–°åŠ å…¥çš„å¼€å‘è€…å»ºè®®å…ˆé˜…è¯» [åˆ†ææ€»ç»“.md](./åˆ†ææ€»ç»“.md) å¿«é€Ÿäº†è§£é¡¹ç›®å…¨è²Œã€‚

## ğŸš€ é¡¹ç›®æ¦‚è¿°

æœ¬ç³»ç»Ÿè®¾è®¡ç”¨äºç®¡ç†å’Œæ§åˆ¶ USV é›†ç¾¤ï¼Œå…·å¤‡ä»¥ä¸‹å…³é”®ç‰¹æ€§ï¼š
- **ROS2 æ¶æ„**: åˆ©ç”¨ ROS2 çš„é€šä¿¡æœºåˆ¶å®ç°åˆ†å¸ƒå¼çš„æ§åˆ¶ä¸ç›‘æ§ã€‚
- **é›†ç¾¤æ”¯æŒ**: çµæ´»çš„å‘½åç©ºé—´è®¾è®¡ï¼Œæ”¯æŒå¤šè‰˜ USV åŒæ—¶åœ¨çº¿ã€‚
- **MAVROS é›†æˆ**: æ— ç¼å¯¹æ¥ Pixhawk é£æ§ï¼Œå®ç°åº•å±‚è¿åŠ¨æ§åˆ¶ã€‚
- **å›¾å½¢åŒ–ç•Œé¢**: åŸºäº PyQt5 çš„åœ°é¢ç«™ GUIï¼Œå®æ—¶æ˜¾ç¤º USV çŠ¶æ€å¹¶å‘é€å¯¼èˆªæŒ‡ä»¤ã€‚

## ğŸ— æ ¸å¿ƒæ¶æ„

### 1. å‘½åç©ºé—´ä½“ç³»
ç³»ç»Ÿé€šè¿‡ ROS2 å‘½åç©ºé—´éš”ç¦»ä¸åŒå®ä½“ï¼š
- **åœ°é¢ç«™ (Ground Station)**: è¿è¡Œåœ¨æ— å‘½åç©ºé—´ä¸‹ï¼ˆå…¨å±€ï¼‰ï¼Œè´Ÿè´£ GUI å±•ç¤ºå’Œé›†ç¾¤ä»»åŠ¡è°ƒåº¦ã€‚
- **æ— äººè‰‡ (USV)**: æ¯è‰˜è‰‡è¿è¡Œåœ¨ç‹¬ç«‹çš„å‘½åç©ºé—´ä¸‹ï¼ˆå¦‚ `usv_01`, `usv_02`ï¼‰ã€‚
    - *MAVROS ID æ˜ å°„*: ç³»ç»Ÿè‡ªåŠ¨æ ¹æ®å‘½åç©ºé—´æ¨å¯¼ MAVLink target IDï¼ˆä¾‹å¦‚ `usv_02` -> `tgt_system=2`ï¼‰ã€‚

### 2. å…³é”®æ•°æ®æµ
- **çŠ¶æ€ä¸ŠæŠ¥**: USV -> å‘å¸ƒ `UsvStatus` æ¶ˆæ¯ -> åœ°é¢ç«™è®¢é˜…æ˜¾ç¤ºã€‚
- **å¯¼èˆªæ§åˆ¶**: åœ°é¢ç«™ -> å‘é€ `NavigateToPoint` Action ç›®æ ‡ -> USV æ‰§è¡ŒåŠ¨ä½œã€‚
- **é£æ§æ¡¥æ¥**: USV èŠ‚ç‚¹ <-> MAVROS <-> ä¸²å£/MAVLink <-> é£æ§ç¡¬ä»¶ã€‚

## ğŸ›  å®‰è£…ä¸æ„å»º

### ç¯å¢ƒè¦æ±‚
- Ubuntu 20.04 / 22.04
- ROS2 (Foxy / Humble)
- MAVROS
- Python 3 + PyQt5

### æ„å»ºå·¥ä½œç©ºé—´

```bash
# å…‹éš†ä»“åº“åˆ°ä½ çš„å·¥ä½œç©ºé—´ src ç›®å½•
# git clone ...

# å®‰è£…ä¾èµ– (æ ¹æ®å®é™…æƒ…å†µ)
rosdep install --from-paths src --ignore-src -r -y

# æ„å»º
colcon build

# åˆ·æ–°ç¯å¢ƒ
source install/setup.bash
