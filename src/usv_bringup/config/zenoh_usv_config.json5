{
  // =========================================================================
  // USV 端 Zenoh Bridge 配置 (v1.7.0+)
  // 模式：Client - 连接到地面站
  // =========================================================================
  
  // 连接到地面站
  "connect": {
    "endpoints": [
      "tcp/192.168.68.50:7447"
    ]
  },
  
  // 时间戳配置
  // 说明："incoming timestamp ... exceeding delta 500ms" 本质是跨机时钟偏差导致。
  // 注意：zenoh-bridge-ros2dds v1.7.0 实测会强制启用 timestamping（配置项可能不生效）。
  // 根因修复仍应通过 NTP/chrony 做时钟同步。
  "timestamping": {
    "enabled": false,
    "drop_future_timestamp": false
  },
  
  "plugins": {
    "ros2dds": {
      "domain": 11,
      "allow": {
        "publishers": [
          ".*/usv_state",
          ".*/fmu/out/vehicle_status",
          ".*/fmu/out/vehicle_status_v1",
          ".*/fmu/out/vehicle_local_position",
          ".*/fmu/out/battery_status",
          ".*/fmu/out/vehicle_attitude",
          ".*/fmu/out/failsafe_flags",
          ".*/navigation/feedback",
          ".*/navigation/result"
        ],
        "subscribers": [
          ".*/set_usv_mode",
          ".*/set_usv_arming",
          ".*/set_arm",
          ".*/set_usv_target_position",
          ".*/clear_target",
          ".*/navigation/goal",
          ".*/navigation/clear_target",
          ".*/fmu/in/vehicle_command",
          ".*/fmu/in/trajectory_setpoint",
          ".*/fmu/in/offboard_control_mode"
        ],
        "service_servers": [
          ".*/shutdown_all"
        ]
      }
    }
  },
  
  "plugins_loading": {
    "enabled": true
  }
}
