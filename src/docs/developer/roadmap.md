# 开发建议与演进路线图

**作者**: chenhangwei
**日期**: 2026-01-26

## 总结
目前的重构（Offboard Control 架构）非常成功，基础打得很牢固。将路径规划与控制律上移至机载计算机，飞控仅作为底层执行器的做法符合高级无人系统开发的标准。

## 演进路径建议

### 1. 稳固当前版本
- **目标**: 确保控制器的稳定性和鲁棒性。
- **行动**:
    - 在实船上完成 `velocity_controller_node.py` 中的 PID 和增益参数调优。
    - 验证不同海况下的控制表现，确保 Pure Pursuit 和 Stanley 算法切换的平滑性。

### 2. 加入速度规划 (Velocity Planning)
- **目标**: 提升航行平滑度和过弯性能。
- **行动**:
    - 在路径跟踪器中加入根据**曲率**自动减速的逻辑。
    - 实现根据**剩余距离**规划速度的逻辑（梯形速度曲线或 S 型速度曲线）。
    - 优化现有的 `heading_factor`，使其更精细化，减少急转弯时的速度震荡。

### 3. 探索 MPC (Model Predictive Control)
- **目标**: 实现更高精度的轨迹跟踪和约束处理（如动力限制、抗风浪干扰）。
- **行动**:
    - 评估树莓派 (RPi 4/5) 的算力负载。
    - 尝试使用 **ACADO** 或 **CasADi** 库替换现有的 Stanley 算法。
    - 建立 USV 的运动学/动力学模型用于预测控制，以处理舵角限制和加速度限制。
