# Ground station and cluster related parameters
# These parameters configure per-step timeouts and retry behavior for the GroundStationNode
# and also configure USV state node distance calculation options.

main_gui_app:
  ros__parameters:
    # ==================== 集群任务管理参数 ====================
    step_timeout: 20.0            # 单个USV步骤超时时间（秒）
    max_retries: 1                # 失败后最大重试次数
    min_ack_rate_for_proceed: 0.8 # 继续下一步所需的最小确认率 (0.0-1.0)
    offline_grace_period: 5.0     # USV离线宽限期（秒），超时后从GUI移除

    # ==================== 导航到达判定阈值（按平台模式下发） ====================
    # 说明：这些阈值会被写入 NavigationGoal.reach_xy_threshold/reach_z_threshold。
    # 约定：<=0 表示“不指定”，由 USV 端使用本地默认参数。
    nav_reach_xy_threshold_2d: 1.0
    nav_reach_z_threshold_2d: 0.0
    nav_reach_xy_threshold_3d: 1.0
    nav_reach_z_threshold_3d: 1.0

    # ==================== 注意 ====================
    # target_reach_threshold 和 distance_mode 参数已移除
    # 这些参数应在 USV 端的 usv_params.yaml 中配置
    # 地面站通过 Action 接口与 USV 通信，由 USV 端判断是否到达目标点

    # area center: the mission coordinate frame origin in the global 'map' frame
    # 任务坐标系原点在全局坐标系中的位置（室内 UWB 版本）
    # 
    # 坐标系说明：
    # - 全局坐标系 (Map/Global): 以 UWB 定位基站 A0 为原点的坐标系
    # - 任务坐标系 (Area): XML 任务文件中使用的相对坐标系
    # 
    # 使用方法：
    # 1. 确定 UWB 定位基站 A0 位置作为原点
    # 2. 确定任务区域中心相对 A0 的位置偏移
    # 3. 设置以下参数为该偏移量
    # 
    # 例如：如果任务区域中心在 A0 基站东 50m、北 30m 处：
    #   area_center_x: 50.0   (东向偏移，米)
    #   area_center_y: 30.0   (北向偏移，米)
    #   area_center_z: 0.0    (高度偏移，米)
    area_center_x: 0.0
    area_center_y: 0.0
    area_center_z: 0.0
    area_center_frame: 'map'